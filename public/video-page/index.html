<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Library</title>
    <style>
        #video-list {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        .video-item {
            cursor: pointer;
            text-align: center;
        }

        .modal {
            visibility: hidden;
            opacity: 0;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(77, 77, 77, .7);
            transition: all .4s;
        }

        .modal:target {
            visibility: visible;
            opacity: 1;
        }

        .modal__content {
            border-radius: 4px;
            position: relative;
            width: 500px;
            max-width: 90%;
            background: #fff;
            padding: 1em 2em;
            text-align: center;
        }

        .price-container {
            display: flex;
            justify-content: space-around;
        }
        .price-item {
            padding: 30px 30px;
            margin: auto;
            background: gainsboro;
            border-radius: 10px;
            cursor: pointer;
        }
        .price-item:hover{
            opacity: 0.7;
        }
        .price-length {
            display: inline;
            font-size: 1.25rem;
            font-weight: bold;
        }
        .price-value {
            display: inline;
            font-size: 1rem;
        }
        .modal__close {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #585858;
            text-decoration: none;
        }
        
    </style>
</head>

<body>
    <h1>Welcome to Our Video Library</h1>
    <div id="video-list">
        <!-- Sample videos listed here -->
        <div class="video-item" onclick="navigateToVideo('1')">
            <img src="./video-page/bunny.png">
            <div>bunny</div>
        </div>
        <div class="video-item" onclick="navigateToVideo('2')">
            <img src="./video-page/elephant.png">
            <div>elephant</div>
        </div>
        <div class="video-item" onclick="navigateToVideo('3')">
            <img src="./video-page/blaze.png">
            <div>blaze</div>
        </div>
        <div id="demo-modal" class="modal">
            <div class="modal__content">
                <h1>Subscribe to see more video</h1>

                <div class="price-container">
                    <div class="price-item">
                        <div class="price-length">
                            Monthly
                        </div>
                        <div class="price-value">
                            5$
                        </div>
                    </div>
                    <div class="price-item">
                        <div class="price-length">
                            Quarterly
                        </div>
                        <div class="price-value">
                            12$
                        </div>
                    </div>
                    <div class="price-item">
                        <div class="price-length">
                            Yearly
                        </div>
                        <div class="price-value">
                            40$
                        </div>
                    </div>
                </div>

                <a href="#" class="modal__close">&times;</a>
            </div>
        </div>
    </div>
    <script>

        function navigateToVideo(url) {
            let videoCount = 0;
            let initialVideo = 0;

            if (localStorage.getItem("videoCount")) {
                videoCount = parseInt(localStorage.getItem("videoCount"), 10);
            }

            if (localStorage.getItem("initialVideo")) {
                initialVideo = parseInt(localStorage.getItem("initialVideo"), 10);
            }
            // Optional: Perform any checks or operations before navigating
            if(videoCount == 0 || initialVideo == url){
                localStorage.setItem("videoCount", 1);
                localStorage.setItem("initialVideo", url);
                debugger
                window.location.href = `video-page/video?video=${url}`;
            }else {
                window.location.href = '#demo-modal'
                debugger
            }
            
        }
        
    </script>
</body>
</html>